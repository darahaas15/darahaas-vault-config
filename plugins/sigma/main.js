/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => SigmaPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var Token = class {
  constructor(type, lexeme, literal) {
    this.type = type;
    this.lexeme = lexeme;
    this.literal = literal;
  }
};
var Scanner = class {
  constructor(source) {
    this.tokens = [];
    this.start = 0;
    this.current = 0;
    this.error = "";
    this.source = source;
  }
  scanTokens() {
    while (!this.isAtEnd()) {
      this.start = this.current;
      this.scanToken();
    }
    this.tokens.push(new Token(14 /* End */, "", null));
    return this.tokens;
  }
  isAtEnd() {
    return this.current >= this.source.length;
  }
  isDigit(str) {
    if (str.length < 1)
      return false;
    const ch = str[0];
    return ch >= "0" && ch <= "9";
  }
  isAlpha(str) {
    if (str.length < 1)
      return false;
    const ch = str[0];
    return ch >= "a" && ch <= "z" || ch >= "A" && ch <= "Z" || ch == "_";
  }
  isAlphaNum(str) {
    return this.isAlpha(str) || this.isDigit(str);
  }
  scanToken() {
    let c = this.advance();
    switch (c) {
      case "(":
        this.addToken(0 /* LPar */);
        break;
      case ")":
        this.addToken(1 /* RPar */);
        break;
      case ",":
        this.addToken(2 /* Comma */);
        break;
      case ".":
        this.addToken(3 /* Dot */);
        break;
      case "+":
        this.addToken(5 /* Plus */);
        break;
      case "-":
        this.addToken(4 /* Minus */);
        break;
      case "/":
        this.addToken(7 /* Slash */);
        break;
      case "*":
        this.addToken(6 /* Star */);
        break;
      case ";":
        this.addToken(8 /* Semi */);
        break;
      case "=":
        this.addToken(9 /* Equal */);
        break;
      case ":":
        this.addToken(13 /* Colon */);
        break;
      case " ":
      case "	":
      case "\r":
        break;
      case "$":
        break;
      case "'":
        this.scanString();
        break;
      default:
        if (this.isDigit(c)) {
          this.scanNumber();
        } else if (this.isAlphaNum(c)) {
          this.scanWord();
        } else {
          this.error = `unexpected character '${c}'`;
        }
    }
  }
  scanWord() {
    while (this.isAlphaNum(this.peek()))
      this.advance();
    this.addToken(10 /* Ident */);
  }
  scanNumber() {
    while (this.isDigit(this.peek()))
      this.advance();
    if (this.peek() == "." && this.isDigit(this.peekNext())) {
      this.advance();
      while (this.isDigit(this.peek()))
        this.advance();
    }
    this.addTokenX(11 /* Num */, parseFloat(this.source.substring(this.start, this.current)));
  }
  peekNext() {
    if (this.current + 1 >= this.source.length)
      return "\0";
    return this.source.charAt(this.current + 1);
  }
  scanString() {
    while (this.peek() != "'" && !this.isAtEnd()) {
      this.advance();
    }
    if (this.isAtEnd()) {
      this.error = "unterminated string";
      return;
    }
    this.advance();
    const value = this.source.substring(this.start + 1, this.current - 1);
    this.addTokenX(12 /* Str */, value);
  }
  advance() {
    return this.source.charAt(this.current++);
  }
  addToken(type) {
    this.addTokenX(type, null);
  }
  addTokenX(type, literal) {
    const text = this.source.substring(this.start, this.current);
    this.tokens.push(new Token(type, text, literal));
  }
  match(expected) {
    if (this.isAtEnd())
      return false;
    if (this.source.charAt(this.current) != expected)
      return false;
    this.current++;
    return true;
  }
  peek() {
    if (this.isAtEnd())
      return "\0";
    return this.source.charAt(this.current);
  }
  shouldSpace(index) {
    const next = parseInt(index) + 1;
    if (next >= this.tokens.length)
      return false;
    const t = this.tokens[next];
    return t.type == 11 /* Num */ || t.type == 10 /* Ident */ || t.type == 0 /* LPar */ || t.type == 4 /* Minus */;
  }
  render(el) {
    const pre = el.createEl("span");
    for (const i in this.tokens) {
      const t = this.tokens[i];
      if (this.error.length > 0) {
        el.createEl("div", { text: this.error, cls: "scan_error" });
      }
      if (t.type == 13 /* Colon */) {
        el.createEl("span", { text: ": ", cls: "punctuator" });
      } else if (t.type == 10 /* Ident */) {
        el.createEl("span", { text: t.lexeme, cls: "identifier" });
        if (this.shouldSpace(i))
          el.createEl("span", { text: " " });
      } else if (t.type == 11 /* Num */) {
        el.createEl("span", { text: t.lexeme, cls: "number" });
      } else if (t.type == 12 /* Str */) {
        el.createEl("span", { text: t.lexeme, cls: "string" });
      } else {
        el.createEl("span", { text: t.lexeme, cls: "punctuator" });
      }
    }
  }
};
var ParseNode = class {
  constructor(token, left, right) {
    this.token = token;
    this.left = left;
    this.right = right;
  }
};
var Parser = class {
  constructor(source) {
    this.current = 0;
    this.scanner = new Scanner(source);
    this.scanner.scanTokens();
  }
  match(start, ...types) {
    this.current = start;
    for (const t in types) {
      if (this.scanner.tokens[start].type == types[t]) {
        this.current++;
        return new ParseNode(start, null, null);
      }
    }
    this.current = start;
    return null;
  }
  primary(start) {
    this.current = start;
    let call = this.call(start);
    if (call)
      return call;
    let ident = this.match(start, 10 /* Ident */);
    if (ident) {
      const temp = this.current;
      const eq = this.match(this.current, 9 /* Equal */, 13 /* Colon */);
      if (eq) {
        eq.left = ident;
        eq.right = this.expression(this.current);
        return eq;
      }
      const nextId = this.match(this.current, 10 /* Ident */);
      if (nextId) {
        return this.primary(temp);
      }
      this.current = start;
    }
    let node = this.match(start, 11 /* Num */, 12 /* Str */, 10 /* Ident */);
    if (node)
      return node;
    if (this.match(this.current, 0 /* LPar */)) {
      node = this.expression(this.current);
      if (this.match(this.current, 1 /* RPar */)) {
        return node;
      }
      return null;
    }
    this.current = start;
    return null;
  }
  arguments(start) {
    const node = this.expression(start);
    if (!node)
      return null;
    const comma = this.match(this.current, 2 /* Comma */);
    if (comma) {
      comma.left = node;
      comma.right = this.arguments(this.current);
      return comma;
    }
    return node;
  }
  unary(start) {
    const node = this.match(start, 4 /* Minus */);
    if (node) {
      const expr = this.unary(this.current);
      if (expr) {
        node.left = expr;
        return node;
      }
    }
    return this.primary(start);
  }
  term_factor(start, method, type1, type2) {
    this.current = start;
    let left = method.apply(this, [start, type1, type2]);
    let op = null;
    if (!left) {
      this.current = start;
      return op;
    }
    op = this.match(this.current, type1, type2);
    if (!op) {
      return left;
    }
    while (op) {
      const un = method.apply(this, [this.current, type1, type2]);
      if (!un) {
        this.current = start;
        return null;
      }
      op.left = left;
      op.right = un;
      left = op;
      op = this.match(this.current, type1, type2);
    }
    return left;
  }
  factor(start) {
    return this.term_factor(start, this.unary, 6 /* Star */, 7 /* Slash */);
  }
  term(start) {
    return this.term_factor(start, this.factor, 5 /* Plus */, 4 /* Minus */);
  }
  call(start) {
    this.current = start;
    const id = this.match(start, 10 /* Ident */);
    if (id) {
      const lpar = this.match(this.current, 0 /* LPar */);
      if (lpar) {
        lpar.left = id;
        lpar.right = this.arguments(this.current);
        this.match(this.current, 1 /* RPar */);
        return lpar;
      }
    }
    this.current = start;
    return null;
  }
  statement(start) {
    return this.term(this.current);
  }
  expression(start) {
    return this.statement(start);
  }
};
var Calc = class {
  constructor(source, host) {
    this.parser = new Parser(source);
    this.host = host;
  }
  getToken(index) {
    return this.parser.scanner.tokens[index];
  }
  assign(node) {
    if (!node.left)
      return 0;
    const result = this.run(node.right);
    const token = this.getToken(node.left.token);
    this.host.setVar(token.lexeme, result);
    return result;
  }
  clamp(node) {
    let value = 0;
    let min = 0;
    let max = 0;
    if (node) {
      if (node.right) {
        value = this.run(node.right.left);
        if (node.right.right) {
          min = this.run(node.right.right.left);
          if (node.right.right.right) {
            max = this.run(node.right.right.right);
          }
        }
      }
    }
    return Math.min(Math.max(value, min), max);
  }
  call(node) {
    if (!node.left)
      return 0;
    const fname = this.parser.scanner.tokens[node.left.token].lexeme;
    switch (fname) {
      case "sin":
        return Math.sin(this.run(node.right));
      case "cos":
        return Math.cos(this.run(node.right));
      case "tan":
        return Math.tan(this.run(node.right));
      case "asin":
        return Math.asin(this.run(node.right));
      case "acos":
        return Math.acos(this.run(node.right));
      case "atan":
        return Math.atan(this.run(node.right));
      case "abs":
        return Math.abs(this.run(node.right));
      case "clamp":
        return this.clamp(node);
    }
  }
  run(node) {
    if (!node)
      return null;
    let token = this.parser.scanner.tokens[node.token];
    switch (token.type) {
      case 11 /* Num */:
        return token.literal;
      case 12 /* Str */:
        return token.literal;
      case 5 /* Plus */:
        return this.run(node.left) + this.run(node.right);
      case 4 /* Minus */:
        if (!node.right)
          return -this.run(node.left);
        return this.run(node.left) - this.run(node.right);
      case 6 /* Star */:
        return this.run(node.left) * this.run(node.right);
      case 7 /* Slash */:
        return this.run(node.left) / this.run(node.right);
      case 9 /* Equal */:
        return this.assign(node);
      case 13 /* Colon */:
        return this.run(node.right);
      case 10 /* Ident */:
        return this.host.getVar(this.getToken(node.token).lexeme);
      case 0 /* LPar */:
        return this.call(node);
      default:
        return null;
    }
  }
  exec() {
    return this.run(this.parser.expression(0));
  }
};
var Line = class {
  updatLineVar() {
    const name = `Line${this.row}`;
    this.host.setVar(name, this.result);
  }
  update(plus) {
    this.result += plus;
    this.updatLineVar();
  }
  resultString() {
    if (!this.result)
      return "0";
    return `${this.has$ ? "$" : ""}${this.host.format(this.result)}`;
  }
  selfRender(row) {
    var _a, _b;
    const line = row.createEl("td");
    line.createEl("span", { text: this.row > 0 ? this.row.toString() : "", cls: "line_number" });
    const source = row.createEl("td");
    if ((_b = (_a = this.calc) == null ? void 0 : _a.parser) == null ? void 0 : _b.scanner) {
      const pad = " ".repeat(this.indent * 4);
      source.createEl("span", { text: pad, cls: "line_number" });
      this.calc.parser.scanner.render(source);
    }
    const result = row.createEl("td");
    result.createEl("span", { text: this.resultString(), cls: "result" });
  }
  render(body) {
    if (this.parent) {
      const row = body.createEl("tr");
      this.selfRender(row);
      this.children.map((n) => n.render(body));
    } else {
      this.children.map((n) => n.render(body));
      const row = body.createEl("tr");
      this.selfRender(row);
    }
  }
  constructor(source, row, host) {
    this.host = host;
    this.source = source;
    this.indent = 0;
    this.children = new Array();
    this.parent = null;
    this.result = 0;
    this.has$ = false;
    this.row = row;
    if (source === "") {
      this.indent = -1;
      this.source = "Total";
      return;
    }
    for (let i = 0; i < source.length; i++) {
      if (source.charAt(i) == " ")
        this.indent = this.indent + 1;
      else
        break;
    }
    this.calc = new Calc(source, host);
    this.result = this.calc.exec();
    this.updatLineVar();
    return;
  }
};
var DEFAULT_SETTINGS = {
  format: true
};
var SigmaPlugin = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    this.variables = /* @__PURE__ */ new Map();
  }
  setVar(id, value) {
    this.variables.set(id, value);
  }
  getVar(id) {
    if (!this.variables.has(id))
      return 0;
    return this.variables.get(id);
  }
  format(value) {
    const str = value.toLocaleString();
    if (this.settings.format)
      return str;
    return str.replace(/,/g, "");
  }
  process(source) {
    this.variables.clear();
    let root = new Line("", 0, this);
    let currentNode = root;
    const lines = source.split("\n").filter((row) => row.length > 0);
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i];
      const node = new Line(line, i + 1, this);
      if (node.indent <= currentNode.indent) {
        let par = null;
        for (par = currentNode.parent; (par == null ? void 0 : par.indent) >= node.indent; par = par == null ? void 0 : par.parent)
          ;
        node.parent = par;
      } else {
        node.parent = currentNode;
      }
      node.parent.children.push(node);
      for (let par = node.parent; par; par = par.parent) {
        par.update(node.result);
      }
      if (node.parent)
        node.parent.has$ = node.has$;
      currentNode = node;
    }
    return root;
  }
  async onload() {
    await this.loadSettings();
    this.registerMarkdownCodeBlockProcessor("sigma", (source, el, ctx) => {
      const root = this.process(source);
      const table = el.createEl("table");
      const body = table.createEl("tbody");
      if (root.children.length === 1)
        root.children[0].render(body);
      else
        root.render(body);
    });
    this.addSettingTab(new SigmaSettingsTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SigmaSettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Sigma Settings" });
    new import_obsidian.Setting(containerEl).setName("Format result").setDesc("Show comma separators for results").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.format).onChange(async (value) => {
        this.plugin.settings.format = value;
        await this.plugin.saveSettings();
      });
    });
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgbWF0Y2gsIHRocm93cyB9IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgeyBBcHAsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBzZXRJY29uLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tICd0c2xpYic7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIFNjYW5uZXIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZW51bSBUb2tlblR5cGUgeyBMUGFyLCBSUGFyLCBDb21tYSwgRG90LCAgTWludXMsIFBsdXMsIFN0YXIsIFNsYXNoLCBTZW1pLCBFcXVhbCwgSWRlbnQsIE51bSwgU3RyLCBDb2xvbiwgRW5kIH1cbmNsYXNzIFRva2VuIHsgXG5cdHR5cGU6IFRva2VuVHlwZTtcblx0bGV4ZW1lOiBzdHJpbmc7XG5cdGxpdGVyYWw6IGFueTtcblxuXHRjb25zdHJ1Y3Rvcih0eXBlOiBUb2tlblR5cGUsIGxleGVtZTogc3RyaW5nLCBsaXRlcmFsOiBhbnkpIHtcblx0XHR0aGlzLnR5cGUgPSB0eXBlO1xuXHRcdHRoaXMubGV4ZW1lID0gbGV4ZW1lO1xuXHRcdHRoaXMubGl0ZXJhbCA9IGxpdGVyYWw7XG5cdH1cbn1cblxuY2xhc3MgU2Nhbm5lciB7XG5cdHNvdXJjZTogc3RyaW5nO1xuXHR0b2tlbnM6IFRva2VuW10gPSBbXTtcblx0c3RhcnQ6IG51bWJlciA9IDA7XG5cdGN1cnJlbnQ6IG51bWJlciA9IDA7XG5cdGVycm9yOiBzdHJpbmcgPSBcIlwiO1xuXG5cblx0Y29uc3RydWN0b3Ioc291cmNlOiBzdHJpbmcpIHtcblx0XHR0aGlzLnNvdXJjZSA9IHNvdXJjZTtcblx0fVxuXG5cdHNjYW5Ub2tlbnMoKTogVG9rZW5bXSB7XG5cblx0XHR3aGlsZSAoIXRoaXMuaXNBdEVuZCgpKSB7XG5cdFx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5jdXJyZW50O1xuXHRcdFx0dGhpcy5zY2FuVG9rZW4oKTtcblx0XHR9XG5cdFx0dGhpcy50b2tlbnMucHVzaChuZXcgVG9rZW4oVG9rZW5UeXBlLkVuZCwgXCJcIiwgbnVsbCkpO1xuXHRcdHJldHVybiB0aGlzLnRva2Vucztcblx0fVxuXG5cdGlzQXRFbmQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudCA+PSB0aGlzLnNvdXJjZS5sZW5ndGg7XG5cdH1cblxuXHRpc0RpZ2l0KHN0cjogc3RyaW5nKTogYm9vbGVhbiB7XG5cdFx0aWYgKHN0ci5sZW5ndGggPCAxKSByZXR1cm4gZmFsc2U7XG5cdFx0Y29uc3QgY2ggPSBzdHJbMF07XG5cdFx0cmV0dXJuIGNoID49IFwiMFwiICYmIGNoIDw9IFwiOVwiO1xuXHR9XG5cblx0aXNBbHBoYShzdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuXHRcdGlmIChzdHIubGVuZ3RoIDwgMSkgcmV0dXJuIGZhbHNlO1xuXHRcdGNvbnN0IGNoID0gc3RyWzBdO1xuXHRcdHJldHVybiAoKGNoID49IFwiYVwiICYmIGNoIDw9IFwielwiKSB8fCAoY2ggPj0gXCJBXCIgJiYgY2ggPD0gXCJaXCIpIHx8IGNoID09IFwiX1wiKTtcblx0fVxuXG5cdGlzQWxwaGFOdW0oc3RyOiBzdHJpbmcpIDogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuaXNBbHBoYShzdHIpIHx8IHRoaXMuaXNEaWdpdChzdHIpO1xuXHR9XG5cblx0c2NhblRva2VuKCkge1xuXHRcdGxldCBjOiBzdHJpbmcgPSB0aGlzLmFkdmFuY2UoKTtcblx0XHRzd2l0Y2ggKGMpIHtcblx0XHRcdGNhc2UgXCIoXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLkxQYXIpOyBicmVhaztcblx0XHRcdGNhc2UgXCIpXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLlJQYXIpOyBicmVhaztcblx0XHRcdGNhc2UgXCIsXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLkNvbW1hKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiLlwiOiB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5Eb3QpOyBicmVhaztcblx0XHRcdGNhc2UgXCIrXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLlBsdXMpOyBicmVhaztcblx0XHRcdGNhc2UgXCItXCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLk1pbnVzKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiL1wiOiB0aGlzLmFkZFRva2VuKFRva2VuVHlwZS5TbGFzaCk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIipcIjogdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuU3Rhcik7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIjtcIjogdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuU2VtaSk7IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIj1cIjogdGhpcy5hZGRUb2tlbihUb2tlblR5cGUuRXF1YWwpOyBicmVhaztcblx0XHRcdGNhc2UgXCI6XCI6IHRoaXMuYWRkVG9rZW4oVG9rZW5UeXBlLkNvbG9uKTsgYnJlYWs7XG5cdFx0XHRjYXNlIFwiIFwiOiBcblx0XHRcdGNhc2UgXCJcXHRcIjogXG5cdFx0XHRjYXNlIFwiXFxyXCI6IGJyZWFrO1xuXHRcdFx0Y2FzZSBcIiRcIjogYnJlYWs7XG5cdFx0XHRjYXNlIFwiJ1wiOiB0aGlzLnNjYW5TdHJpbmcoKTsgYnJlYWs7XG5cdFx0XHRkZWZhdWx0OiBcblx0XHRcdFx0aWYgKHRoaXMuaXNEaWdpdChjKSkge1xuXHRcdFx0XHRcdHRoaXMuc2Nhbk51bWJlcigpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHRoaXMuaXNBbHBoYU51bShjKSkge1xuXHRcdFx0XHRcdHRoaXMuc2NhbldvcmQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHR0aGlzLmVycm9yID0gYHVuZXhwZWN0ZWQgY2hhcmFjdGVyICcke2N9J2A7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0c2NhbldvcmQoKSB7XG5cdFx0d2hpbGUodGhpcy5pc0FscGhhTnVtKHRoaXMucGVlaygpKSkgdGhpcy5hZHZhbmNlKCk7XG5cdFx0dGhpcy5hZGRUb2tlbihUb2tlblR5cGUuSWRlbnQpO1xuXHR9XG5cblx0c2Nhbk51bWJlcigpIHtcblx0XHR3aGlsZSAodGhpcy5pc0RpZ2l0KHRoaXMucGVlaygpKSkgdGhpcy5hZHZhbmNlKCk7XG5cdFx0aWYgKHRoaXMucGVlaygpID09IFwiLlwiICYmIHRoaXMuaXNEaWdpdCh0aGlzLnBlZWtOZXh0KCkpKSB7XG5cdFx0XHR0aGlzLmFkdmFuY2UoKTtcblx0XHRcdHdoaWxlKHRoaXMuaXNEaWdpdCh0aGlzLnBlZWsoKSkpIHRoaXMuYWR2YW5jZSgpO1xuXHRcdH1cblx0XHR0aGlzLmFkZFRva2VuWChUb2tlblR5cGUuTnVtLCBwYXJzZUZsb2F0KHRoaXMuc291cmNlLnN1YnN0cmluZyh0aGlzLnN0YXJ0LCB0aGlzLmN1cnJlbnQpKSk7XG5cdH1cblxuXHRwZWVrTmV4dCgpOiBzdHJpbmcge1xuXHRcdGlmICh0aGlzLmN1cnJlbnQgKyAxID49IHRoaXMuc291cmNlLmxlbmd0aCkgcmV0dXJuIFwiXFwwXCI7XG5cdFx0cmV0dXJuIHRoaXMuc291cmNlLmNoYXJBdCh0aGlzLmN1cnJlbnQgKyAxKTtcblx0fVxuXG5cdHNjYW5TdHJpbmcoKSB7XG5cdFx0d2hpbGUgKHRoaXMucGVlaygpICE9IFwiJ1wiICYmICF0aGlzLmlzQXRFbmQoKSkge1xuXHRcdFx0dGhpcy5hZHZhbmNlKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuaXNBdEVuZCgpKSB7XG5cdFx0XHR0aGlzLmVycm9yID0gXCJ1bnRlcm1pbmF0ZWQgc3RyaW5nXCI7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHRoaXMuYWR2YW5jZSgpO1xuXHRcdGNvbnN0IHZhbHVlID0gdGhpcy5zb3VyY2Uuc3Vic3RyaW5nKHRoaXMuc3RhcnQrMSwgdGhpcy5jdXJyZW50LTEpO1xuXHRcdHRoaXMuYWRkVG9rZW5YKFRva2VuVHlwZS5TdHIsIHZhbHVlKTtcblx0fVxuXG5cdGFkdmFuY2UoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gdGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuY3VycmVudCsrKTtcblx0fVxuXG5cdGFkZFRva2VuKHR5cGU6IFRva2VuVHlwZSkge1xuXHRcdHRoaXMuYWRkVG9rZW5YKHR5cGUsIG51bGwpO1xuXHR9XG5cblx0YWRkVG9rZW5YKHR5cGU6IFRva2VuVHlwZSwgbGl0ZXJhbDogYW55KSB7XG5cdFx0Y29uc3QgdGV4dCA9IHRoaXMuc291cmNlLnN1YnN0cmluZyh0aGlzLnN0YXJ0LCB0aGlzLmN1cnJlbnQpO1xuXHRcdHRoaXMudG9rZW5zLnB1c2gobmV3IFRva2VuKHR5cGUsIHRleHQsIGxpdGVyYWwpKTtcblx0fVxuXG5cdG1hdGNoKGV4cGVjdGVkOiBzdHJpbmcpOiBib29sZWFuIHtcblx0XHRpZiAodGhpcy5pc0F0RW5kKCkpIHJldHVybiBmYWxzZTtcblx0XHRpZiAodGhpcy5zb3VyY2UuY2hhckF0KHRoaXMuY3VycmVudCkgIT0gZXhwZWN0ZWQpIHJldHVybiBmYWxzZTtcblx0XHR0aGlzLmN1cnJlbnQrKztcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHBlZWsoKTogc3RyaW5nIHtcblx0XHRpZiAodGhpcy5pc0F0RW5kKCkpIHJldHVybiBcIlxcMFwiO1xuXHRcdHJldHVybiB0aGlzLnNvdXJjZS5jaGFyQXQodGhpcy5jdXJyZW50KTtcblx0fVxuXG5cdHNob3VsZFNwYWNlKGluZGV4OiBhbnkpOiBib29sZWFuIHtcblx0XHRjb25zdCBuZXh0ID0gcGFyc2VJbnQoaW5kZXgpICsgMTtcblx0XHRpZiAobmV4dCA+PSB0aGlzLnRva2Vucy5sZW5ndGgpIHJldHVybiBmYWxzZTtcblx0XHRjb25zdCB0ID0gdGhpcy50b2tlbnNbbmV4dF07XG5cdFx0cmV0dXJuIHQudHlwZSA9PSBUb2tlblR5cGUuTnVtIHx8IHQudHlwZSA9PSBUb2tlblR5cGUuSWRlbnQgfHwgdC50eXBlID09IFRva2VuVHlwZS5MUGFyIHx8IHQudHlwZSA9PSBUb2tlblR5cGUuTWludXM7XG5cdH1cblxuXHRyZW5kZXIoZWw6IGFueSkge1xuXHRcdGNvbnN0IHByZSA9IGVsLmNyZWF0ZUVsKFwic3BhblwiKTtcblxuXHRcdGZvciAoY29uc3QgaSBpbiB0aGlzLnRva2Vucykge1x0XHRcdFxuXHRcdFx0Y29uc3QgdCA9IHRoaXMudG9rZW5zW2ldO1xuXG5cdFx0XHRpZiAodGhpcy5lcnJvci5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGVsLmNyZWF0ZUVsKFwiZGl2XCIsIHsgdGV4dDogdGhpcy5lcnJvciwgY2xzOiBcInNjYW5fZXJyb3JcIn0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodC50eXBlID09IFRva2VuVHlwZS5Db2xvbikge1xuXHRcdFx0XHRlbC5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIjogXCIsIGNsczogXCJwdW5jdHVhdG9yXCJ9KTtcblx0XHRcdH0gZWxzZSBpZiAodC50eXBlID09IFRva2VuVHlwZS5JZGVudCkge1xuXHRcdFx0XHRlbC5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiB0LmxleGVtZSwgY2xzOiBcImlkZW50aWZpZXJcIn0pO1xuXHRcdFx0XHRpZiAodGhpcy5zaG91bGRTcGFjZShpKSkgZWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogXCIgXCIgfSk7XG5cdFx0XHR9IGVsc2UgaWYgKHQudHlwZSA9PSBUb2tlblR5cGUuTnVtKSB7XG5cdFx0XHRcdGVsLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IHQubGV4ZW1lLCBjbHM6IFwibnVtYmVyXCJ9KTtcblx0XHRcdH0gZWxzZSBpZiAodC50eXBlID09IFRva2VuVHlwZS5TdHIpIHtcblx0XHRcdFx0ZWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogdC5sZXhlbWUsIGNsczogXCJzdHJpbmdcIn0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogdC5sZXhlbWUsIGNsczogXCJwdW5jdHVhdG9yXCJ9KTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8gUGFyc2VyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmNsYXNzIFBhcnNlTm9kZSB7XG5cdHRva2VuOiBudW1iZXI7XG5cdGxlZnQ6IFBhcnNlTm9kZXxudWxsO1xuXHRyaWdodDogUGFyc2VOb2RlfG51bGw7XG5cdGNvbnN0cnVjdG9yKHRva2VuOiBudW1iZXIsIGxlZnQ6IFBhcnNlTm9kZXxudWxsLCByaWdodDogUGFyc2VOb2RlfG51bGwpIHtcblx0XHR0aGlzLnRva2VuID0gdG9rZW47XG5cdFx0dGhpcy5sZWZ0ID0gbGVmdDtcblx0XHR0aGlzLnJpZ2h0ID0gcmlnaHQ7XG5cdH1cbn1cblxuY2xhc3MgUGFyc2VyIHtcdFxuXHRzY2FubmVyOiBTY2FubmVyO1xuXHRjdXJyZW50OiBudW1iZXIgPSAwO1xuXG5cdGNvbnN0cnVjdG9yKHNvdXJjZTogc3RyaW5nKSB7XG5cdFx0dGhpcy5zY2FubmVyID0gbmV3IFNjYW5uZXIoc291cmNlKTtcblx0XHR0aGlzLnNjYW5uZXIuc2NhblRva2VucygpO1xuXHR9XG5cblx0bWF0Y2goc3RhcnQ6IG51bWJlciwgLi4udHlwZXM6IFRva2VuVHlwZVtdKTogUGFyc2VOb2RlIHwgbnVsbCB7XG5cdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0Zm9yIChjb25zdCB0IGluIHR5cGVzKSB7XG5cdFx0XHRpZiAodGhpcy5zY2FubmVyLnRva2Vuc1tzdGFydF0udHlwZSA9PSB0eXBlc1t0XSkge1x0XHRcdFxuXHRcdFx0XHR0aGlzLmN1cnJlbnQrKztcblx0XHRcdFx0cmV0dXJuIG5ldyBQYXJzZU5vZGUoc3RhcnQsIG51bGwsIG51bGwpO1xuXHRcdFx0fVx0XHRcdFxuXHRcdH1cblx0XHR0aGlzLmN1cnJlbnQgPSBzdGFydDtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHByaW1hcnkoc3RhcnQ6IG51bWJlcik6IFBhcnNlTm9kZSB8IG51bGwge1xuXHRcdHRoaXMuY3VycmVudCA9IHN0YXJ0O1xuXG5cdFx0bGV0IGNhbGwgPSB0aGlzLmNhbGwoc3RhcnQpO1xuXHRcdGlmIChjYWxsKSByZXR1cm4gY2FsbDtcblxuXHRcdGxldCBpZGVudCA9IHRoaXMubWF0Y2goc3RhcnQsIFRva2VuVHlwZS5JZGVudCk7IFxuXHRcdGlmIChpZGVudCkge1xuXHRcdFx0Y29uc3QgdGVtcCA9IHRoaXMuY3VycmVudDtcblx0XHRcdGNvbnN0IGVxID0gdGhpcy5tYXRjaCh0aGlzLmN1cnJlbnQsIFRva2VuVHlwZS5FcXVhbCwgVG9rZW5UeXBlLkNvbG9uKTtcblx0XHRcdGlmIChlcSkge1xuXHRcdFx0XHRlcS5sZWZ0ID0gaWRlbnQ7XG5cdFx0XHRcdGVxLnJpZ2h0ID0gdGhpcy5leHByZXNzaW9uKHRoaXMuY3VycmVudCk7XG5cdFx0XHRcdHJldHVybiBlcTtcblx0XHRcdH1cblx0XHRcdC8vIDxpZGVudGlmaWVyMT4gPGlkZW50aWZpZXIyPiA9IHNraXAgPGlkZW50aWZpZXIxPlxuXHRcdFx0Y29uc3QgbmV4dElkID0gdGhpcy5tYXRjaCh0aGlzLmN1cnJlbnQsIFRva2VuVHlwZS5JZGVudCk7XG5cdFx0XHRpZiAobmV4dElkKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLnByaW1hcnkodGVtcCk7XG5cdFx0XHR9IFxuXHRcdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0fVxuXHRcdGxldCBub2RlID0gdGhpcy5tYXRjaChzdGFydCwgVG9rZW5UeXBlLk51bSwgVG9rZW5UeXBlLlN0ciwgVG9rZW5UeXBlLklkZW50KTtcblx0XHRpZiAobm9kZSkgcmV0dXJuIG5vZGU7XG5cdFx0XG5cdFx0aWYgKHRoaXMubWF0Y2godGhpcy5jdXJyZW50LCBUb2tlblR5cGUuTFBhcikpIHtcblx0XHRcdG5vZGUgPSB0aGlzLmV4cHJlc3Npb24odGhpcy5jdXJyZW50KTtcdFx0XHRcblx0XHRcdGlmICh0aGlzLm1hdGNoKHRoaXMuY3VycmVudCwgVG9rZW5UeXBlLlJQYXIpKSB7XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdFx0Ly8gc3ludGF4IGVycm9yXG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRhcmd1bWVudHMoc3RhcnQ6IG51bWJlcik6IFBhcnNlTm9kZSB8IG51bGwge1xuXHRcdGNvbnN0IG5vZGUgPSB0aGlzLmV4cHJlc3Npb24oc3RhcnQpO1xuXHRcdGlmICghbm9kZSkgcmV0dXJuIG51bGw7XG5cdFx0Y29uc3QgY29tbWEgPSB0aGlzLm1hdGNoKHRoaXMuY3VycmVudCwgVG9rZW5UeXBlLkNvbW1hKTtcblx0XHRpZiAoY29tbWEpIHtcblx0XHRcdGNvbW1hLmxlZnQgPSBub2RlO1xuXHRcdFx0Y29tbWEucmlnaHQgPSB0aGlzLmFyZ3VtZW50cyh0aGlzLmN1cnJlbnQpO1xuXHRcdFx0cmV0dXJuIGNvbW1hO1xuXHRcdH1cblx0XHRyZXR1cm4gbm9kZTtcblx0fVxuXG5cdHVuYXJ5KHN0YXJ0OiBudW1iZXIpOiBQYXJzZU5vZGUgfCBudWxsIHtcblx0XHRjb25zdCBub2RlID0gdGhpcy5tYXRjaChzdGFydCwgVG9rZW5UeXBlLk1pbnVzKTtcblx0XHRpZiAobm9kZSkge1xuXHRcdFx0Y29uc3QgZXhwciA9IHRoaXMudW5hcnkodGhpcy5jdXJyZW50KTtcblx0XHRcdGlmIChleHByKSB7XG5cdFx0XHRcdG5vZGUubGVmdCA9IGV4cHI7XG5cdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0fVxuXHRcdH1cdFx0XG5cdFx0cmV0dXJuIHRoaXMucHJpbWFyeShzdGFydCk7XG5cdH1cblxuXG5cdHRlcm1fZmFjdG9yKHN0YXJ0OiBudW1iZXIsIG1ldGhvZDogYW55LCB0eXBlMTogYW55LCB0eXBlMjogYW55KTogUGFyc2VOb2RlIHwgbnVsbCB7XG5cdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0bGV0IGxlZnQgPSBtZXRob2QuYXBwbHkodGhpcywgW3N0YXJ0LCB0eXBlMSwgdHlwZTJdKTtcblx0XHRsZXQgb3A6IFBhcnNlTm9kZXxudWxsID0gbnVsbDtcblxuXHRcdGlmICghbGVmdCkge1xuXHRcdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0XHRyZXR1cm4gb3A7XG5cdFx0fVxuXG5cdFx0b3AgPSB0aGlzLm1hdGNoKHRoaXMuY3VycmVudCwgdHlwZTEsIHR5cGUyKTtcblx0XHRpZiAoIW9wKSB7XG5cdFx0XHRyZXR1cm4gbGVmdDtcblx0XHR9XG5cblx0XHR3aGlsZSAob3ApIHtcblx0XHRcdGNvbnN0IHVuID0gbWV0aG9kLmFwcGx5KHRoaXMsIFt0aGlzLmN1cnJlbnQsIHR5cGUxLCB0eXBlMl0pO1xuXHRcdFx0aWYgKCF1bikge1xuXHRcdFx0XHR0aGlzLmN1cnJlbnQgPSBzdGFydDtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XHRcdFx0XG5cdFx0XHRvcC5sZWZ0ID0gbGVmdDtcblx0XHRcdG9wLnJpZ2h0ID0gdW47XG5cdFx0XHRsZWZ0ID0gb3A7XG5cdFx0XHRvcCA9IHRoaXMubWF0Y2godGhpcy5jdXJyZW50LCB0eXBlMSwgdHlwZTIpO1xuXHRcdH1cblx0XHRyZXR1cm4gbGVmdDtcblx0fVxuXG5cdGZhY3RvcihzdGFydDogbnVtYmVyKTogUGFyc2VOb2RlIHwgbnVsbCB7XG5cdFx0cmV0dXJuIHRoaXMudGVybV9mYWN0b3Ioc3RhcnQsIHRoaXMudW5hcnksIFRva2VuVHlwZS5TdGFyLCBUb2tlblR5cGUuU2xhc2gpO1xuXHR9XG5cblx0dGVybShzdGFydDogbnVtYmVyKTogUGFyc2VOb2RlIHwgbnVsbCB7XG5cdFx0cmV0dXJuIHRoaXMudGVybV9mYWN0b3Ioc3RhcnQsIHRoaXMuZmFjdG9yLCBUb2tlblR5cGUuUGx1cywgVG9rZW5UeXBlLk1pbnVzKTtcblx0fVx0XG5cblx0Y2FsbChzdGFydDogbnVtYmVyKTogUGFyc2VOb2RlIHwgbnVsbCB7XG5cdFx0dGhpcy5jdXJyZW50ID0gc3RhcnQ7XG5cdFx0Y29uc3QgaWQgPSB0aGlzLm1hdGNoKHN0YXJ0LCBUb2tlblR5cGUuSWRlbnQpO1xuXHRcdGlmIChpZCkge1xuXHRcdFx0Y29uc3QgbHBhciA9IHRoaXMubWF0Y2godGhpcy5jdXJyZW50LCBUb2tlblR5cGUuTFBhcik7XG5cdFx0XHRpZiAobHBhcikge1xuXHRcdFx0XHRscGFyLmxlZnQgPSBpZDtcblx0XHRcdFx0bHBhci5yaWdodCA9IHRoaXMuYXJndW1lbnRzKHRoaXMuY3VycmVudCk7XG5cdFx0XHRcdHRoaXMubWF0Y2godGhpcy5jdXJyZW50LCBUb2tlblR5cGUuUlBhcik7XG5cdFx0XHRcdHJldHVybiBscGFyO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR0aGlzLmN1cnJlbnQgPSBzdGFydDtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHN0YXRlbWVudChzdGFydDogbnVtYmVyKTogUGFyc2VOb2RlIHwgbnVsbCB7XG5cdFx0cmV0dXJuIHRoaXMudGVybSh0aGlzLmN1cnJlbnQpO1xuXHR9XG5cblx0ZXhwcmVzc2lvbihzdGFydDogbnVtYmVyKTogUGFyc2VOb2RlIHwgbnVsbCB7XG5cdFx0cmV0dXJuIHRoaXMuc3RhdGVtZW50KHN0YXJ0KTtcblx0fVx0XG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEludGVycHJldGVyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5pbnRlcmZhY2UgQ2FsY0hvc3Qge1xuXHRzZXRWYXIoaWQ6IHN0cmluZywgdmFsdWU6IG51bWJlcik6IGFueTtcblx0Z2V0VmFyKGlkOiBzdHJpbmcpOiBhbnk7XG5cdGZvcm1hdCh2YWx1ZTogbnVtYmVyKTogc3RyaW5nO1xufVxuXG5jbGFzcyBDYWxjIHtcblx0cGFyc2VyOiBQYXJzZXI7XG5cdGhvc3Q6IENhbGNIb3N0O1xuXG5cdGNvbnN0cnVjdG9yKHNvdXJjZTogc3RyaW5nLCBob3N0OiBDYWxjSG9zdCkge1xuXHRcdHRoaXMucGFyc2VyID0gbmV3IFBhcnNlcihzb3VyY2UpO1xuXHRcdHRoaXMuaG9zdCA9IGhvc3Q7XG5cdH1cblxuXHRnZXRUb2tlbihpbmRleDogbnVtYmVyKTogVG9rZW4ge1xuXHRcdHJldHVybiB0aGlzLnBhcnNlci5zY2FubmVyLnRva2Vuc1tpbmRleF07XG5cdH1cblxuXHRhc3NpZ24obm9kZTogUGFyc2VOb2RlKTogbnVtYmVyIHtcblx0XHRpZiAoIW5vZGUubGVmdCkgcmV0dXJuIDA7XG5cdFx0Y29uc3QgcmVzdWx0ID0gdGhpcy5ydW4obm9kZS5yaWdodCk7XG5cdFx0Y29uc3QgdG9rZW4gPSAgdGhpcy5nZXRUb2tlbihub2RlLmxlZnQudG9rZW4pO1xuXHRcdHRoaXMuaG9zdC5zZXRWYXIodG9rZW4ubGV4ZW1lLCByZXN1bHQpO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHRjbGFtcChub2RlOiBQYXJzZU5vZGUpIHtcblx0XHRsZXQgdmFsdWUgPSAwO1xuXHRcdGxldCBtaW4gPSAwO1xuXHRcdGxldCBtYXggPSAwO1xuXHRcdGlmIChub2RlKSB7XG5cdFx0XHRpZiAobm9kZS5yaWdodCkge1xuXHRcdFx0XHR2YWx1ZSA9IHRoaXMucnVuKG5vZGUucmlnaHQubGVmdCk7XG5cdFx0XHRcdGlmIChub2RlLnJpZ2h0LnJpZ2h0KSB7XG5cdFx0XHRcdFx0bWluID0gdGhpcy5ydW4obm9kZS5yaWdodC5yaWdodC5sZWZ0KTtcblx0XHRcdFx0XHRpZiAobm9kZS5yaWdodC5yaWdodC5yaWdodCkge1xuXHRcdFx0XHRcdFx0bWF4ID0gdGhpcy5ydW4obm9kZS5yaWdodC5yaWdodC5yaWdodCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBcblx0XHRyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIG1pbiksIG1heCk7XG5cdH1cblxuXHRjYWxsKG5vZGU6IFBhcnNlTm9kZSkge1xuXHRcdGlmICghbm9kZS5sZWZ0KSByZXR1cm4gMDtcblx0XHRjb25zdCBmbmFtZSA9IHRoaXMucGFyc2VyLnNjYW5uZXIudG9rZW5zW25vZGUubGVmdC50b2tlbl0ubGV4ZW1lO1xuXHRcdHN3aXRjaCAoZm5hbWUpIHtcblx0XHRcdGNhc2UgXCJzaW5cIjogcmV0dXJuIE1hdGguc2luKHRoaXMucnVuKG5vZGUucmlnaHQpKTtcblx0XHRcdGNhc2UgXCJjb3NcIjogcmV0dXJuIE1hdGguY29zKHRoaXMucnVuKG5vZGUucmlnaHQpKTtcblx0XHRcdGNhc2UgXCJ0YW5cIjogcmV0dXJuIE1hdGgudGFuKHRoaXMucnVuKG5vZGUucmlnaHQpKTtcblx0XHRcdGNhc2UgXCJhc2luXCI6IHJldHVybiBNYXRoLmFzaW4odGhpcy5ydW4obm9kZS5yaWdodCkpO1xuXHRcdFx0Y2FzZSBcImFjb3NcIjogcmV0dXJuIE1hdGguYWNvcyh0aGlzLnJ1bihub2RlLnJpZ2h0KSk7XG5cdFx0XHRjYXNlIFwiYXRhblwiOiByZXR1cm4gTWF0aC5hdGFuKHRoaXMucnVuKG5vZGUucmlnaHQpKTtcblx0XHRcdGNhc2UgXCJhYnNcIjogcmV0dXJuIE1hdGguYWJzKHRoaXMucnVuKG5vZGUucmlnaHQpKTtcblx0XHRcdGNhc2UgXCJjbGFtcFwiOiByZXR1cm4gdGhpcy5jbGFtcChub2RlKTtcblx0XHR9XG5cdH1cblxuXHRydW4obm9kZTogUGFyc2VOb2RlIHwgbnVsbCk6IGFueSB7XG5cdFx0aWYgKCFub2RlKSByZXR1cm4gbnVsbDtcblx0XHRsZXQgdG9rZW4gPSB0aGlzLnBhcnNlci5zY2FubmVyLnRva2Vuc1tub2RlLnRva2VuXTtcblx0XHRzd2l0Y2ggKHRva2VuLnR5cGUpIHtcblx0XHRcdGNhc2UgVG9rZW5UeXBlLk51bTogcmV0dXJuIHRva2VuLmxpdGVyYWw7XG5cdFx0XHRjYXNlIFRva2VuVHlwZS5TdHI6IHJldHVybiB0b2tlbi5saXRlcmFsO1xuXHRcdFx0Y2FzZSBUb2tlblR5cGUuUGx1czogcmV0dXJuIHRoaXMucnVuKG5vZGUubGVmdCkgKyB0aGlzLnJ1bihub2RlLnJpZ2h0KTtcblx0XHRcdGNhc2UgVG9rZW5UeXBlLk1pbnVzOiBcblx0XHRcdFx0aWYgKCFub2RlLnJpZ2h0KSByZXR1cm4gLSB0aGlzLnJ1bihub2RlLmxlZnQpO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5ydW4obm9kZS5sZWZ0KSAtIHRoaXMucnVuKG5vZGUucmlnaHQpO1xuXHRcdFx0Y2FzZSBUb2tlblR5cGUuU3RhcjogcmV0dXJuIHRoaXMucnVuKG5vZGUubGVmdCkgKiB0aGlzLnJ1bihub2RlLnJpZ2h0KTtcblx0XHRcdGNhc2UgVG9rZW5UeXBlLlNsYXNoOiByZXR1cm4gdGhpcy5ydW4obm9kZS5sZWZ0KSAvIHRoaXMucnVuKG5vZGUucmlnaHQpO1xuXHRcdFx0Y2FzZSBUb2tlblR5cGUuRXF1YWw6IHJldHVybiB0aGlzLmFzc2lnbihub2RlKTtcblx0XHRcdGNhc2UgVG9rZW5UeXBlLkNvbG9uOiByZXR1cm4gdGhpcy5ydW4obm9kZS5yaWdodCk7XG5cdFx0XHRjYXNlIFRva2VuVHlwZS5JZGVudDogcmV0dXJuIHRoaXMuaG9zdC5nZXRWYXIodGhpcy5nZXRUb2tlbihub2RlLnRva2VuKS5sZXhlbWUpO1xuXHRcdFx0Y2FzZSBUb2tlblR5cGUuTFBhcjogcmV0dXJuIHRoaXMuY2FsbChub2RlKTtcblx0XHRcdGRlZmF1bHQ6IHJldHVybiBudWxsO1xuXHRcdH1cblx0fVxuXG5cdGV4ZWMoKTogYW55IHtcblx0XHRyZXR1cm4gdGhpcy5ydW4odGhpcy5wYXJzZXIuZXhwcmVzc2lvbigwKSk7XG5cdH1cblxufVxuXG5jbGFzcyBMaW5lIHtcblx0aG9zdDogQ2FsY0hvc3Q7XG5cdGNoaWxkcmVuOiBMaW5lW107XG5cdHBhcmVudDogTGluZSB8IG51bGw7XG5cdHNvdXJjZTogc3RyaW5nO1xuXHRleHByZXNzaW9uOiBzdHJpbmc7XG5cdHJlc3VsdDogbnVtYmVyO1xuXHRpbmRlbnQ6IG51bWJlcjtcdFxuXHRoYXMkOiBib29sZWFuO1xuXHRjYWxjOiBDYWxjO1xuXHRyb3c6IG51bWJlcjtcblxuXHR1cGRhdExpbmVWYXIoKSB7XG5cdFx0Y29uc3QgbmFtZSA9IGBMaW5lJHt0aGlzLnJvd31gO1xuXHRcdHRoaXMuaG9zdC5zZXRWYXIobmFtZSwgdGhpcy5yZXN1bHQpO1xuXHR9XG5cblx0dXBkYXRlKHBsdXM6IG51bWJlcikgIHtcblx0XHRcdHRoaXMucmVzdWx0ICs9IHBsdXM7XG5cdFx0XHR0aGlzLnVwZGF0TGluZVZhcigpO1x0XG5cdH1cblx0XG5cdHJlc3VsdFN0cmluZygpOiBzdHJpbmcge1xuXHRcdGlmICghdGhpcy5yZXN1bHQpIHJldHVybiBcIjBcIjtcdFx0XG5cdFx0cmV0dXJuIGAke3RoaXMuaGFzJCA/IFwiJFwiIDogXCJcIn0ke3RoaXMuaG9zdC5mb3JtYXQodGhpcy5yZXN1bHQpfWA7XHRcdFxuXHR9XG5cblx0c2VsZlJlbmRlcihyb3c6IGFueSkge1xuXHRcdGNvbnN0IGxpbmUgPSByb3cuY3JlYXRlRWwoXCJ0ZFwiKTtcblx0XHRsaW5lLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6ICh0aGlzLnJvdyA+IDApID8gdGhpcy5yb3cudG9TdHJpbmcoKSA6IFwiXCIgLCBjbHM6IFwibGluZV9udW1iZXJcIn0pO1xuXHRcdFxuXHRcdGNvbnN0IHNvdXJjZSA9IHJvdy5jcmVhdGVFbChcInRkXCIpO1xuXHRcdGlmICh0aGlzLmNhbGM/LnBhcnNlcj8uc2Nhbm5lcikge1xuXHRcdFx0Y29uc3QgcGFkID0gXCIgXCIucmVwZWF0KHRoaXMuaW5kZW50KjQpO1xuXHRcdFx0c291cmNlLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IHBhZCwgY2xzOiBcImxpbmVfbnVtYmVyXCJ9KTtcblx0XHRcdHRoaXMuY2FsYy5wYXJzZXIuc2Nhbm5lci5yZW5kZXIoc291cmNlKTtcblx0XHR9XG5cdFx0XG5cdFx0Y29uc3QgcmVzdWx0ID0gcm93LmNyZWF0ZUVsKFwidGRcIik7XG5cdFx0cmVzdWx0LmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IHRoaXMucmVzdWx0U3RyaW5nKCksIGNsczogXCJyZXN1bHRcIiB9ICk7XG5cdH1cblxuXHRyZW5kZXIoYm9keTogYW55KTogdm9pZCB7XG5cdFx0aWYgKHRoaXMucGFyZW50KSB7XG5cdFx0XHRjb25zdCByb3cgPSBib2R5LmNyZWF0ZUVsKFwidHJcIik7XG5cdFx0XHR0aGlzLnNlbGZSZW5kZXIocm93KTtcblx0XHRcdHRoaXMuY2hpbGRyZW4ubWFwKG4gPT4gbi5yZW5kZXIoYm9keSkpO1x0XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY2hpbGRyZW4ubWFwKG4gPT4gbi5yZW5kZXIoYm9keSkpO1x0XG5cdFx0XHRjb25zdCByb3cgPSBib2R5LmNyZWF0ZUVsKFwidHJcIik7XG5cdFx0XHR0aGlzLnNlbGZSZW5kZXIocm93KTtcblx0XHR9XG5cdH1cblxuXHRjb25zdHJ1Y3Rvcihzb3VyY2U6IHN0cmluZywgcm93OiBudW1iZXIsIGhvc3Q6IENhbGNIb3N0KSB7XG5cdFx0dGhpcy5ob3N0ID0gaG9zdDtcblx0XHR0aGlzLnNvdXJjZSA9IHNvdXJjZTtcblx0XHR0aGlzLmluZGVudCA9IDA7XG5cdFx0dGhpcy5jaGlsZHJlbiA9IG5ldyBBcnJheTxMaW5lPjtcblx0XHR0aGlzLnBhcmVudCA9IG51bGw7XG5cdFx0dGhpcy5yZXN1bHQgPSAwO1xuXHRcdHRoaXMuaGFzJCA9IGZhbHNlO1xuXHRcdHRoaXMucm93ID0gcm93O1xuXG5cdFx0aWYgKHNvdXJjZSA9PT0gXCJcIikge1xuXHRcdFx0dGhpcy5pbmRlbnQgPSAtMTtcblx0XHRcdHRoaXMuc291cmNlID0gXCJUb3RhbFwiO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGNvbXB1dGUgbGVhZGluZyBpbmRlbnRcblx0XHRmb3IobGV0IGkgPSAwOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoc291cmNlLmNoYXJBdChpKSA9PSAnICcpIFxuXHRcdFx0XHR0aGlzLmluZGVudCA9IHRoaXMuaW5kZW50ICsgMTtcblx0XHRcdGVsc2UgXG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHRoaXMuY2FsYyA9IG5ldyBDYWxjKHNvdXJjZSwgaG9zdCk7XHRcblx0XHR0aGlzLnJlc3VsdCA9IHRoaXMuY2FsYy5leGVjKCk7XG5cdFx0dGhpcy51cGRhdExpbmVWYXIoKTtcblx0XHRyZXR1cm47XHRcdFxuXHR9XG59XG5cblxuaW50ZXJmYWNlIFNpZ21hUGx1Z2luU2V0dGluZ3Mge1xuXHRmb3JtYXQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNpZ21hUGx1Z2luU2V0dGluZ3MgPSB7XG5cdGZvcm1hdDogdHJ1ZVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZ21hUGx1Z2luIGV4dGVuZHMgUGx1Z2luIGltcGxlbWVudHMgQ2FsY0hvc3Qge1xuXHR2YXJpYWJsZXMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuXG5cdHNldFZhcihpZDogc3RyaW5nLCB2YWx1ZTogbnVtYmVyKSB7XG5cdFx0dGhpcy52YXJpYWJsZXMuc2V0KGlkLCB2YWx1ZSlcdDtcblx0fVxuXG5cdGdldFZhcihpZDogc3RyaW5nKSB7XG5cdFx0aWYgKCF0aGlzLnZhcmlhYmxlcy5oYXMoaWQpKSByZXR1cm4gMDtcblx0XHRyZXR1cm4gdGhpcy52YXJpYWJsZXMuZ2V0KGlkKTtcblx0fVxuXG5cdGZvcm1hdCh2YWx1ZTogbnVtYmVyKTogc3RyaW5nIHtcblx0XHRjb25zdCBzdHIgPSAgdmFsdWUudG9Mb2NhbGVTdHJpbmcoKTtcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5mb3JtYXQpIHJldHVybiBzdHI7XG5cdFx0cmV0dXJuIHN0ci5yZXBsYWNlKC8sL2csIFwiXCIpO1xuXHR9XG5cblx0c2V0dGluZ3M6IFNpZ21hUGx1Z2luU2V0dGluZ3M7XG5cblx0cHJvY2Vzcyhzb3VyY2U6IHN0cmluZyk6IExpbmUge1xuXHRcdHRoaXMudmFyaWFibGVzLmNsZWFyKCk7XG5cdFx0bGV0IHJvb3QgPSBuZXcgTGluZShcIlwiLCAwLCB0aGlzKTtcblx0XHRcdGxldCBjdXJyZW50Tm9kZSA9IHJvb3Q7XG5cdFx0XHRjb25zdCBsaW5lcyA9IHNvdXJjZS5zcGxpdChcIlxcblwiKS5maWx0ZXIoKHJvdykgPT4gcm93Lmxlbmd0aCA+IDApO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBsaW5lID0gbGluZXNbaV07XG5cdFx0XHRcdGNvbnN0IG5vZGUgPSBuZXcgTGluZShsaW5lLCBpKzEsIHRoaXMpO1xuXHRcdFx0XHRpZiAobm9kZS5pbmRlbnQgPD0gY3VycmVudE5vZGUuaW5kZW50KSB7XG5cdFx0XHRcdFx0Ly8gZmluZCBjbG9zZXN0IHBhcmVudCB3aXRoIGluZGVudCA8IG5vZGUuaW5kZW50XG5cdFx0XHRcdFx0bGV0IHBhcjogTGluZSB8IG51bGwgPSBudWxsO1xuXHRcdFx0XHRcdGZvciAocGFyID0gY3VycmVudE5vZGUucGFyZW50OyBwYXI/LmluZGVudCA+PSBub2RlLmluZGVudDsgcGFyID0gcGFyPy5wYXJlbnQpO1xuXHRcdFx0XHRcdG5vZGUucGFyZW50ID0gcGFyO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5vZGUucGFyZW50ID0gY3VycmVudE5vZGU7XG5cdFx0XHRcdH1cblx0XHRcdFx0bm9kZS5wYXJlbnQuY2hpbGRyZW4ucHVzaChub2RlKTtcblx0XHRcdFx0Zm9yKGxldCBwYXIgPSBub2RlLnBhcmVudDsgcGFyOyBwYXIgPSBwYXIucGFyZW50KSB7XG5cdFx0XHRcdFx0cGFyLnVwZGF0ZShub2RlLnJlc3VsdCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGlmIChub2RlLnBhcmVudClcblx0XHRcdFx0XHRub2RlLnBhcmVudC5oYXMkID0gbm9kZS5oYXMkO1xuXHRcdFx0XHRjdXJyZW50Tm9kZSA9IG5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByb290O1xuXHR9XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFwic2lnbWFcIiwgKHNvdXJjZSwgZWwsIGN0eCkgPT4ge1xuXHRcdFx0Y29uc3Qgcm9vdCA9IHRoaXMucHJvY2Vzcyhzb3VyY2UpO1xuXG5cdFx0XHRjb25zdCB0YWJsZSA9IGVsLmNyZWF0ZUVsKFwidGFibGVcIik7XG5cdFx0XHRjb25zdCBib2R5ID0gdGFibGUuY3JlYXRlRWwoXCJ0Ym9keVwiKTtcblx0XHRcdGlmIChyb290LmNoaWxkcmVuLmxlbmd0aCA9PT0gMSlcblx0XHRcdFx0cm9vdC5jaGlsZHJlblswXS5yZW5kZXIoYm9keSk7XG5cdFx0XHRlbHNlIFxuXHRcdFx0XHRyb290LnJlbmRlcihib2R5KTtcblx0XHR9KTtcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTaWdtYVNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgU2lnbWFTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IFNpZ21hUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IFNpZ21hUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ1NpZ21hIFNldHRpbmdzJ30pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRm9ybWF0IHJlc3VsdCcpXG5cdFx0XHQuc2V0RGVzYygnU2hvdyBjb21tYSBzZXBhcmF0b3JzIGZvciByZXN1bHRzJylcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb3JtYXQpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb3JtYXQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQSxzQkFBd0U7QUFLeEUsSUFBTSxRQUFOLE1BQVk7QUFBQSxFQUtYLFlBQVksTUFBaUIsUUFBZ0IsU0FBYztBQUMxRCxTQUFLLE9BQU87QUFDWixTQUFLLFNBQVM7QUFDZCxTQUFLLFVBQVU7QUFBQSxFQUNoQjtBQUNEO0FBRUEsSUFBTSxVQUFOLE1BQWM7QUFBQSxFQVFiLFlBQVksUUFBZ0I7QUFONUIsa0JBQWtCLENBQUM7QUFDbkIsaUJBQWdCO0FBQ2hCLG1CQUFrQjtBQUNsQixpQkFBZ0I7QUFJZixTQUFL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
